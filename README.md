# introsde-2016-assignment-1
## Samuele Malavasi | mat.182551
The project is about handling .xml and .json files. I used Ivy to manage dependencies and ant to automate the ivy installation, dependencies retrieving, java compiling and execution I used and.

### About the code
The project is structured in five packages in order to organize all the classes and documents in a reasonable way. Inside the main package (`sde.assignment1`) it is possible to find:
* `main`: contains the main classes that are targets in the `build.xml` file and that accomplish the assignment goals. The organization was thought in a way useful to separate similar tasks and technologies:
  * `ReadPeople.java`: used for the first 3 tasks (XML and XPATH). Depending on the executed target it is possible to:
    * **getAllPeople**: prints all the people with details;
    * **getHealthProfile**: prints the HealthProfile of the person with ID=5;
    * **getPeopleByWeight**: prints all the people with weight>90.
  * `MappingPeople.java`: used for the last 3 tasks (Marshalling/Unmarshalling XML/JSON). Depending on the executed target it is possible to:
    * **marshallingToXml**: creates 3 people using JAVA, marshals them to an XML file and prints its content;
    * **unmarshallingFromXml**: unmarshals people from an XML file and prints the resulting people;
      * Note: A checking for the file existence was implemented in order to avoid faulty unmarshalling.
    * **marshallingToJson**: creates 3 people using JAVA, marshals them to a JSON file and prints its content.
* `xpath`: contains the `PeopleReader.java` class that allows the reading of people stored inside an XML file;
- `jaxb`: contains the `JAXBMarshaller.java` class that contains all the methods used for marshalling and unmarshalling (XML and JSON);
- `people`: contains all the classes automatically generated by JAXB XJC using the `people.xml` document (`ObjectFactory.java`, `People.java`, `PersonType.java`, `HealthprofileType.java`);
- `data`: contains the `people.xml` document along with its `people.xsd` schema. Running the XML/JSON marshalling tasks a `marshalled_people.xml` and `marshalled_people.json` respectively will be automatically generated.

### About the tasks
The `build.xml` file contains some targets in order to execute a single task or all the tasks. All of them depend on the **compile** target:
* **execute.getAllPeople** allows the printing of all the people with details;
* **execute.getHealthProfile** allows the printing of the HealthProfile of the person with ID=5;
* **execute.getPeopleByWeight** allows the printing of all the people with weight>90.
* **execute.marshallingToXml** creates 3 people using JAVA, marshals them to an XML file and prints its content;
* **execute.unmarshallingFromXml** unmarshals people from an XML file and prints the resulting people;
* **execute.marshallingToJson** creates 3 people using JAVA, marshals them to a JSON file and prints its content.

Among the other things, it is possible to clean the project using the **clean** target.
Last but not least, it is possible to execute all the targets executing **execute.evaluation**.

### How to run
In order to run the code, you need to follow the steps below:
* **Clone** the repo: `git clone https://github.com/alanramponi/introsde-2016-assignment-1.git`;
* **Navigate** into the project folder: `cd introsde-2016-assignment-1`;
* **Execute** all the tasks using ant: `ant execute.evaluation` (depends on compile).
  * Or, if you want, you can execute a target at a time following the commands explained in the "Tasks" section.
